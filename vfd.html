<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VFD Selection Mastery - Complete Masterclass</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #00d4ff;
            --accent: #ff2e63;
            --success: #39ff14;
            --warning: #ffb700;
            --dark-bg: #0a0e27;
            --card-bg: #1a2847;
            --text-main: #ffffff;
            --text-dim: #b0c4de;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        html, body {
            width: 100%;
            height: 100%;
            overflow: hidden;
            max-width: 100%;
        }

        body {
            background: linear-gradient(135deg, #0a0e27 0%, #1a2847 50%, #0a0e27 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Poppins', sans-serif;
            color: var(--text-main);
            font-size: 16px; /* Base for rem units */
        }

        #container {
            width: 100vw;
            height: 100vh;
            background: var(--dark-bg);
            display: flex;
            flex-direction: column; /* Key for fixed footer */
            overflow: hidden;
            position: relative;
            cursor: pointer;
        }

        /* Holds the slide content, separate from the footer */
        .scene-content {
            width: 100%;
            flex: 1; /* Takes all available vertical space */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 1vh 3vw; /* Adjusted padding */
            text-align: center;
            overflow-y: auto; /* Allow scrolling *if* absolutely needed, but avoid */
            overflow-x: hidden;
            opacity: 0;
            animation: fadeInScene 0.8s ease-out forwards;
            -ms-overflow-style: none; /* Hide scrollbar IE/Edge */
            scrollbar-width: none; /* Hide scrollbar Firefox */
        }
        /* Hide scrollbar Chrome/Safari/Opera */
        .scene-content::-webkit-scrollbar { display: none; }


        @keyframes fadeInScene { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideUpIn { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes slideDownIn { from { opacity: 0; transform: translateY(-30px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes scaleUpIn { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } } /* Subtle pulse */
        @keyframes glow { 0%, 100% { text-shadow: 0 0 20px rgba(0, 212, 255, 0.6), 0 0 40px rgba(0, 212, 255, 0.3); } 50% { text-shadow: 0 0 40px rgba(0, 212, 255, 1), 0 0 60px rgba(0, 212, 255, 0.5); } }

        /* Font clamping adjusted for safety */
        .title {
            font-size: clamp(1.8rem, 6vw, 3.5rem); /* Adjusted max size */
            font-weight: 800;
            margin-bottom: 1.5vh;
            line-height: 1.15;
            animation: slideDownIn 0.9s ease-out;
            letter-spacing: 0.5px;
        }

        .subtitle {
            font-size: clamp(1.4rem, 4.5vw, 2.5rem); /* Adjusted max size */
            font-weight: 700;
            margin-bottom: 1.5vh;
            line-height: 1.2;
            animation: slideUpIn 0.9s ease-out 0.15s forwards;
            opacity: 0;
        }
        
        .punchy-headline {
            font-size: clamp(1.2rem, 4vw, 2.2rem); /* Adjusted max size */
            font-weight: 800;
            margin: 1.5vh 0;
            line-height: 1.3;
            animation: slideUpIn 0.9s ease-out 0.1s forwards;
            opacity: 0;
            letter-spacing: 0.3px;
        }

        .content-text {
            font-size: clamp(1rem, 3vw, 1.8rem); /* Adjusted max size */
            color: var(--text-dim);
            line-height: 1.6; /* Slightly reduced */
            margin: 1vh auto;
            animation: slideUpIn 1s ease-out 0.2s forwards;
            max-width: 90%;
            opacity: 0;
        }

        .text-primary { color: var(--primary); animation: glow 2.5s infinite; font-weight: 700; }
        .text-accent { color: var(--accent); font-weight: 700; }
        .text-success { color: var(--success); font-weight: 700; }
        .text-warning { color: var(--warning); font-weight: 700; }
        .text-white { color: white; }

        .icon-large {
            font-size: clamp(3rem, 10vw, 5rem); /* Adjusted max size */
            animation: pulse 2.2s infinite;
            margin: 1.5vh 0;
        }

        .card {
            background: rgba(0, 212, 255, 0.08);
            border: 2px solid var(--primary);
            border-radius: 18px;
            padding: clamp(1rem, 3vw, 1.5rem); /* Responsive padding */
            margin: 1.5vh auto;
            animation: scaleUpIn 0.8s ease-out;
            width: 95%;
            max-width: 900px;
            text-align: left;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        .card.accent { background: rgba(255, 46, 99, 0.08); border-color: var(--accent); }
        .card.success { background: rgba(57, 255, 20, 0.08); border-color: var(--success); }
        .card.warning { background: rgba(255, 183, 0, 0.08); border-color: var(--warning); }

        .card-title {
            font-size: clamp(1.1rem, 3vw, 1.8rem);
            font-weight: 800;
            margin-bottom: 1rem;
            letter-spacing: 0.3px;
        }

        .card-text {
            font-size: clamp(0.9rem, 2.5vw, 1.4rem); /* Adjusted max size */
            color: #e0e8f0;
            line-height: 1.7; /* Slightly reduced */
        }

        .card-text strong { color: var(--success); font-weight: 800; }
        .card-text .highlight { color: var(--primary); font-weight: 800; }
        .card-text .critical { color: var(--accent); font-weight: 800; }
        
        .code-text {
            font-family: 'Courier New', monospace;
            background: rgba(0,0,0,0.3);
            padding: 0.3rem 0.6rem;
            border-radius: 4px;
            font-size: clamp(0.8rem, 2vw, 1.1rem); /* Responsive */
            display: inline-block; /* Prevent stretching */
            margin: 0.2rem 0;
        }
        
        .formula-font {
            font-family: 'Courier New', monospace;
            line-height: 1.7; /* Adjusted */
            font-size: clamp(0.9rem, 2.3vw, 1.4rem); /* Responsive */
        }

        .stat-box {
            display: inline-block;
            background: rgba(57, 255, 20, 0.15);
            border: 2px solid var(--success);
            border-radius: 12px;
            padding: 1rem 1.5rem;
            margin: 0.5rem;
            animation: scaleUpIn 0.9s ease-out;
        }

        .stat-number {
            font-size: clamp(1.6rem, 4.5vw, 2.8rem); /* Adjusted */
            font-weight: 900;
            color: var(--success);
            display: block;
        }

        .stat-label {
            font-size: clamp(0.8rem, 2vw, 1.1rem); /* Adjusted */
            color: var(--text-dim);
            font-weight: 600;
        }

        .two-col-grid, .three-col-grid {
            display: grid;
            gap: clamp(0.8rem, 2vw, 1.2rem); /* Responsive gap */
            width: 95%; /* Use more width */
            max-width: 1300px;
            margin: 1.5vh auto;
            animation: slideUpIn 1.1s ease-out;
        }
        .two-col-grid { grid-template-columns: repeat(auto-fit, minmax(min(100%, 300px), 1fr)); } /* Adjusted minmax */
        .three-col-grid { grid-template-columns: repeat(auto-fit, minmax(min(100%, 250px), 1fr)); } /* Adjusted minmax */


        .comparison-table {
            width: 95%;
            max-width: 1000px;
            margin: 1.5rem auto;
            border-collapse: collapse;
            animation: scaleUpIn 0.9s ease-out;
            overflow-x: auto; /* Allow horizontal scroll on small screens if needed */
        }

        .comparison-table th, .comparison-table td {
            padding: clamp(0.6rem, 2vw, 1rem); /* Responsive padding */
            text-align: left;
            border-bottom: 2px solid rgba(0, 212, 255, 0.3);
            font-size: clamp(0.8rem, 2vw, 1.1rem); /* Adjusted */
            color: var(--text-dim);
            white-space: normal; /* Allow wrapping */
        }

        .comparison-table th {
            background: rgba(0, 212, 255, 0.15);
            font-weight: 800;
            color: var(--primary);
        }
        
        .comparison-table tr td:first-child {
            color: var(--text-main);
            font-weight: 600;
        }

        .comparison-table tr:hover {
            background: rgba(0, 212, 255, 0.08);
        }

        .formula-box {
            background: rgba(0, 0, 0, 0.4);
            border-left: 4px solid var(--warning);
            padding: 1.2rem;
            margin: 1.5vh auto;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: clamp(1rem, 2.5vw, 1.6rem); /* Adjusted */
            line-height: 1.7;
            text-align: center;
            animation: slideUpIn 1s ease-out;
            width: 95%;
            max-width: 900px; /* Ensure it doesn't get too wide */
        }

        .checklist-item {
            display: flex;
            align-items: flex-start;
            margin: 1vh 0; /* Reduced margin */
            color: var(--text-dim);
            line-height: 1.6; /* Reduced */
            font-size: clamp(0.9rem, 2.5vw, 1.4rem); /* Adjusted */
            animation: slideUpIn 1.2s ease-out;
            text-align: left;
        }
        .checklist-item div { flex: 1; } /* Allow text to wrap */

        .checklist-item strong { color: var(--success); font-weight: 800; }
        .check-icon {
            color: var(--success);
            font-weight: 900;
            margin-right: 0.8rem; /* Adjusted */
            font-size: 1.2em; /* Relative size */
            line-height: 1.1;
            flex-shrink: 0;
        }

        .key-point {
            background: linear-gradient(90deg, rgba(255, 46, 99, 0.2) 0%, rgba(255, 183, 0, 0.1) 100%);
            border-left: 4px solid var(--accent);
            padding: 1rem;
            margin: 1.5vh auto;
            border-radius: 8px;
            font-size: clamp(1rem, 2.8vw, 1.5rem); /* Adjusted */
            line-height: 1.6;
            animation: slideUpIn 0.9s ease-out;
            text-align: left;
            width: 95%;
            max-width: 900px;
        }

        /* FIXED FOOTER STYLE */
        .footer-wrapper {
            width: 100%;
            text-align: center;
            padding: 1.5vh 0; /* Use vh for consistency */
            background: rgba(0, 0, 0, 0.8); /* Darker background */
            font-size: clamp(0.7rem, 2vw, 1rem); /* Adjusted */
            color: var(--warning); /* Match other footer */
            border-top: 2px solid rgba(0, 212, 255, 0.3); /* Match other footer */
            flex-shrink: 0; /* Stop it from shrinking */
            position: relative;
            z-index: 100; /* Keep on top */
            animation: slideUpIn 1.5s ease-out; /* Add animation */
        }
        .footer-wrapper a { color: var(--warning); text-decoration: none; font-weight: 700; }
        .footer-wrapper a:hover { text-shadow: 0 0 20px var(--warning); }
        /* Removed the extra hr line */

    </style>
</head>
<body>

<div id="container"></div>

<script>
    const container = document.getElementById('container');
    let currentSceneIndex = 0;
    let sceneInterval;

    // --- SCENES ARRAY (Rewritten for Engagement & Clarity) ---
    const scenes = [
        // SCENE 1: Title Card (7s)
        { duration: 7000, content: `
            <div class="title text-primary">⚡ VFD SELECTION MASTERY ⚡</div>
            <div class="subtitle text-success">Choosing the RIGHT Drive</div>
            <div class="punchy-headline text-warning">Stop Costly Mistakes Before They Happen!</div>
            <div class="icon-large">🎯</div>`
        },
        // SCENE 2: The Problem (6s)
        { duration: 6000, content: `
            <div class="title text-accent">🔴 Get it WRONG? Pay the Price.</div>
            <div class="punchy-headline text-warning">Downtime. Damage. Disaster.</div>
            <div class="content-text text-white">Picking a VFD seems easy... until it fails.</div>`
        },
        // SCENE 3: Real Example Intro (5s)
        { duration: 5000, content: `
            <div class="subtitle text-accent">True Story: $2.3M Lost</div>
            <div class="punchy-headline text-warning">47 days downtime. One wrong VFD.</div>
            <div class="content-text">How did this happen? Let's break it down.</div>`
        },
         // SCENE 4: Real Example Details (7s)
        { duration: 7000, content: `
            <div class="key-point">
                A standard 100kW VFD was used for a heavy mixer (Constant Torque!).<br>
                <strong>Location:</strong> 1800m altitude (thin air!).<br>
                <strong>Temp:</strong> 50°C (HOT!).<br>
                <strong>Result:</strong> Failed in 90 days. Catastrophic failure.
            </div>
            <div class="content-text text-accent">This video stops YOU from making this mistake.</div>`
        },
        // SCENE 5: Why This Video (6s)
        { duration: 6000, content: `
            <div class="title text-success">Why This Masterclass?</div>
            <div class="punchy-headline text-primary">Datasheets Don't Tell the WHOLE Story.</div>
            <div class="content-text">Think like a system designer, not a catalog reader.</div>`
        },
        // SCENE 6: Intro The 7 Factors (5s)
        { duration: 5000, content: `
            <div class="title text-primary">The 7 Critical Selection Factors</div>
            <div class="punchy-headline text-warning">Your new engineering checklist. Master these!</div>`
        },
        // SCENE 7: Listing the 7 Factors (9s)
        { duration: 9000, content: `
            <div class="checklist" style="max-width: 800px; margin: auto;">
                <div class="checklist-item"><span class="check-icon">1️⃣</span><div><strong>Load Profile:</strong> Easy Fan or Tough Mixer?</div></div>
                <div class="checklist-item"><span class="check-icon">2️⃣</span><div><strong>Motor Details:</strong> Amps > kW!</div></div>
                <div class="checklist-item"><span class="check-icon">3️⃣</span><div><strong>Environment:</strong> Hot & High = De-rate!</div></div>
                <div class="checklist-item"><span class="check-icon">4️⃣</span><div><strong>Power Quality:</strong> Stop Grid Poison!</div></div>
                <div class="checklist-item"><span class="check-icon">5️⃣</span><div><strong>Motor Protection:</strong> Save Your Bearings!</div></div>
                <div class="checklist-item"><span class="check-icon">6️⃣</span><div><strong>Regen Energy:</strong> Braking Needed?</div></div>
                <div class="checklist-item"><span class="check-icon">7️⃣</span><div><strong>Topology:</strong> Which VFD Type?</div></div>
            </div>`
        },

        // --- FACTOR 1 ---
        // SCENE 8: Factor 1 Title (4s)
        { duration: 4000, content: `
            <div class="title text-accent">FACTOR #1: LOAD PROFILE</div>
            <div class="punchy-headline text-warning">Variable Torque vs. Constant Torque</div>`
        },
        // SCENE 9: Variable Torque (VT) (8s)
        { duration: 8000, content: `
            <div class="subtitle text-success">The "Easy" Load: Variable Torque (VT)</div>
            <div class="punchy-headline text-primary">Fans & Pumps = HUGE Energy Savings!</div>
            <div class="card success">
                <div class="card-title text-success">Think: Centrifugal Fans, Pumps, Blowers</div>
                <div class="card-text">
                    Physics Magic (Cube Law): Power ∝ Speed³<br>
                    <span class="text-white highlight">80% Speed = Only 51% Power!</span> VFDs LOVE these.
                </div>
            </div>`
        },
        // SCENE 10: Constant Torque (CT) (8s)
        { duration: 8000, content: `
            <div class="subtitle text-accent">The "VFD Killer": Constant Torque (CT)</div>
            <div class="punchy-headline text-warning">Conveyors, Mixers, Cranes Need FULL Power Always!</div>
            <div class="card accent">
                <div class="card-title text-accent">Think: Conveyors, Mixers, Extruders, Hoists</div>
                 <div class="card-text">
                    Requires <span class="critical">100% Torque even at 1% Speed.</span><br>
                    Generates MASSIVE heat. Needs HUGE starting current.
                </div>
            </div>`
        },
        // SCENE 11: ND vs HD (10s)
        { duration: 10000, content: `
            <div class="subtitle text-primary">The "Secret Menu": Normal vs. Heavy Duty</div>
            <div class="punchy-headline text-warning">Are you buying for VT or CT? It MATTERS!</div>
            <div class="two-col-grid">
                <div class="card">
                    <div class="card-title text-primary">Normal Duty (ND / VT)</div>
                    <div class="card-text"><strong>Overload:</strong> 110% (60s)<br><strong>Use For:</strong> Fans, Pumps</div>
                </div>
                <div class="card accent">
                    <div class="card-title text-accent">Heavy Duty (HD / CT)</div>
                    <div class="card-text"><strong>Overload:</strong> 150% (60s)<br><strong>Use For:</strong> Conveyors, Mixers</div>
                </div>
            </div>
            <div class="key-point"><strong>Warning:</strong> A 100kW HD drive might be a 125kW ND drive. Choose wrong? Constant overload trips!</div>`
        },

        // --- FACTOR 2 ---
         // SCENE 12: Factor 2 Title (6s)
        { duration: 6000, content: `
            <div class="title text-primary">FACTOR #2: MOTOR DETAILS</div>
            <div class="punchy-headline text-warning">STOP Sizing by kW. Use AMPS (FLA)!</div>
            <div class="content-text">VFDs care about current, not just power.</div>`
        },
        // SCENE 13: Why FLA matters (8s)
        { duration: 8000, content: `
            <div class="subtitle text-warning">Why Amps (FLA) Trump kW</div>
            <div class="punchy-headline text-accent">Not all motors are created equal!</div>
            <div class="card">
                 <div class="card-title text-primary">Remember High School Physics?</div>
                 <div class="card-text">
                     <span class="code-text">kW = (V × I × PF × √3) ÷ 1000</span><br>
                     Different efficiency (PF) means two 100kW motors can have DIFFERENT Amps (FLA)!
                </div>
            </div>
            <div class="content-text text-success">Rule: Always size VFD Amps ≥ Motor Nameplate FLA.</div>`
        },
        // SCENE 14: Power Factor Deep Dive (8s)
        { duration: 8000, content: `
            <div class="subtitle text-warning">Power Factor: The Hidden Current Hog</div>
            <div class="punchy-headline text-accent">Low PF = Higher Amps = Bigger (More Expensive) VFD!</div>
            <div class="card warning">
                <div class="card-text">
                    Motor A (PF 0.95) vs Motor B (PF 0.85) - Same kW.<br>
                    Motor B needs <span class="text-accent">17.6% MORE Current!</span><br>
                    <span class="text-white critical">Watch out for old, rewound motors! Check that nameplate!</span>
                </div>
            </div>`
        },
        // SCENE 15: Motor Cooling (8s)
        { duration: 8000, content: `
            <div class="subtitle text-success">Motor Cooling: Will Your Motor Survive Low Speed?</div>
            <div class="punchy-headline text-warning">VFDs + Low Speed = No Built-In Fan! 🔥</div>
            <div class="card success">
                <div class="card-title text-success">Check the Motor's IC Code:</div>
                <div class="card-text">
                     <strong>IC411 (Self-Cooled):</strong> Fan on shaft. <span class="critical">BAD for VFDs!</span> Stops at low speed. Overheats!<br>
                     <strong>IC416 (Blower-Cooled):</strong> Separate fan. <span class="text-success">PERFECT for VFDs!</span> Cools always.
                </div>
            </div>`
        },

        // --- FACTOR 3 ---
        // SCENE 16: Factor 3 Title (4s)
        { duration: 4000, content: `
            <div class="title text-accent">FACTOR #3: DE-RATING</div>
            <div class="punchy-headline text-warning">Your VFD Isn't As Powerful As You Think!</div>`
        },
        // SCENE 17: Altitude De-rating (9s)
        { duration: 9000, content: `
            <div class="subtitle text-warning">De-Rating #1: Altitude</div>
            <div class="punchy-headline text-accent">Thin Air Can't Cool!</div>
            <div class="card warning">
                 <div class="card-title text-warning">The Rule (IEC 60721):</div>
                 <div class="card-text">
                    Above 1000m? Lose power.<br>
                    <span class="code-text">De-rate = 1% per 100m above 1000m</span><br>
                    <strong>Example:</strong> 3000m altitude? Your 100kW VFD is now only 80kW!
                </div>
            </div>`
        },
        // SCENE 18: Temperature De-rating (9s)
        { duration: 9000, content: `
            <div class="subtitle text-warning">De-Rating #2: Temperature</div>
            <div class="punchy-headline text-accent">Hot Factories Kill VFDs!</div>
            <div class="card warning">
                <div class="card-title text-warning">The Rule (IEC 60721):</div>
                <div class="card-text">
                    Ratings assume 40°C. Hotter? Lose power.<br>
                    <span class="code-text">De-rate = 1.5% per 1°C above 40°C</span><br>
                    <strong>Example:</strong> 50°C ambient? Your VFD loses 15% capacity!
                </div>
            </div>`
        },
        // SCENE 19: Combined De-rating (10s)
        { duration: 10000, content: `
            <div class="subtitle text-accent">The Double Whammy: Altitude + Temp</div>
            <div class="punchy-headline text-warning">This is where most engineers fail.</div>
             <div class="card accent">
                <div class="card-title text-accent">Scenario: Site at 2500m, 55°C heat.</div>
                 <div class="card-text formula-font">
                    Altitude De-rate: (2500-1000)/100 = <span class="critical">15%</span><br>
                    Temp De-rate: (55-40) × 1.5 = <span class="critical">22.5%</span><br>
                    <strong>TOTAL DE-RATE = 37.5% LOSS!</strong><br><br>
                    <span class="text-white highlight" style="font-size: 1.1em;">Your 100kW VFD is now 62.5kW. You MUST buy a 160kW+ model!</span>
                </div>
            </div>`
        },

        // --- FACTOR 4 ---
        // SCENE 20: Factor 4 Title (5s)
        { duration: 5000, content: `
            <div class="title text-accent">FACTOR #4: POWER QUALITY</div>
            <div class="punchy-headline text-warning">VFDs = Grid Pollution (Harmonics!)</div>`
        },
        // SCENE 21: What are Harmonics (8s)
        { duration: 8000, content: `
            <div class="subtitle text-warning">What ARE Harmonics?</div>
            <div class="punchy-headline text-accent">Electrical "Noise" That Destroys Equipment.</div>
            <div class="card warning">
                <div class="card-text">
                    Standard 6-pulse VFDs create <span class="critical">harmonic distortion (THD)</span>.<br>
                    <strong>The Law (IEEE 519):</strong> Needs < 5-8% THD.<br>
                    <strong>Your VFD:</strong> Creates 40%+ THD! Uh oh.
                </div>
            </div>`
        },
         // SCENE 22: Harmonic Damage (9s)
        { duration: 9000, content: `
            <div class="subtitle text-accent">What Do Harmonics Actually Damage?</div>
            <div class="punchy-headline text-warning">(Hint: Everything Expensive)</div>
            <div class="card accent">
                <div class="card-title text-accent">Harmonics Silently Destroy:</div>
                 <div class="card-text">
                    🔥 <strong>Transformers:</strong> Overheat! Lifespan cut by 80%.<br>
                    💻 <strong>PLCs/Sensors:</strong> False readings, random trips.<br>
                    💸 <strong>Your Wallet:</strong> Massive utility penalties for bad power factor.
                </div>
            </div>`
        },
        // SCENE 23: Harmonic Solutions (10s)
        { duration: 10000, content: `
            <div class="subtitle text-success">Fixing Harmonics: Good, Better, Best</div>
            <div class="punchy-headline text-warning">How to Clean Up Your Act</div>
             <div class="three-col-grid">
                 <div class="card">
                    <div class="card-title text-primary">Input Reactor</div>
                    <div class="card-text">THD: ~30-40% (Poor)<br>Use: Small, non-critical</div>
                </div>
                <div class="card warning">
                    <div class="card-title text-warning">18-Pulse Drive</div>
                    <div class="card-text">THD: ~10-15% (Okay)<br>Use: Medium systems</div>
                </div>
                <div class="card success">
                    <div class="card-title text-success">AFE Drive</div>
                    <div class="card-text">THD: <3% (Excellent!)<br>Use: Critical, Large</div>
                </div>
            </div>`
        },

        // --- FACTOR 5 ---
         // SCENE 24: Factor 5 Title (4s)
        { duration: 4000, content: `
            <div class="title text-accent">FACTOR #5: MOTOR PROTECTION</div>
            <div class="punchy-headline text-warning">Stop VFDs From Killing Your Motors!</div>`
        },
        // SCENE 25: Reflected Waves (10s)
        { duration: 10000, content: `
            <div class="subtitle text-accent">The Reflected Wave Crisis (dV/dt)</div>
            <div class="punchy-headline text-warning">Long Motor Cables? BIG Problem!</div>
            <div class="card accent">
                <div class="card-title text-accent">Here's the Killer Sequence:</div>
                 <div class="card-text">
                    1. VFD sends fast pulses (PWM).<br>
                    2. Long cable (>30m) acts like antenna.<br>
                    3. Wave reflects at motor.<br>
                    4. <span class="critical">Voltage DOUBLES! (415V → 830V Spike!)</span><br>
                    5. Motor insulation (rated 415V) burns out. Motor dead.
                </div>
            </div>`
        },
        // SCENE 26: Bearing Fluting (10s)
        { duration: 10000, content: `
            <div class="subtitle text-accent">Bearing Fluting: The *Other* Killer</div>
            <div class="punchy-headline text-warning">It's Not Just Insulation... VFDs Zap Bearings Too!</div>
             <div class="card accent">
                <div class="card-title text-accent">How it Happens:</div>
                 <div class="card-text">
                     Those 830V spikes create <span class="critical">shaft voltage</span>.<br>
                     Current arcs through bearings to ground.<br>
                     Result: <span class="critical">"Fluting"</span> (micro-welds).<br><br>
                     <span class="text-white highlight" style="font-size: 1.1em;">Bearing screams & fails in months, not years.</span>
                </div>
            </div>`
        },
        // SCENE 27: Motor Protection Solutions (11s)
        { duration: 11000, content: `
            <div class="subtitle text-success">The Triple Shield: Protecting Your Motor</div>
            <div class="punchy-headline text-warning">Mandatory for Long Cables & Big Motors!</div>
             <div class="three-col-grid">
                <div class="card success">
                    <div class="card-title text-success">1: dV/dt Filter</div>
                    <div class="card-text">Slows voltage rise. <br><strong>Need if >30m cable.</strong></div>
                </div>
                <div class="card success">
                    <div class="card-title text-success">2: Shaft Grounding</div>
                    <div class="card-text">Gives current safe path.<br><strong>Need if >50kW.</strong></div>
                </div>
                 <div class="card success">
                    <div class="card-title text-success">3: Insulated Bearing</div>
                    <div class="card-text">Stops current flow.<br><strong>Best practice always.</strong></div>
                </div>
            </div>`
        },

        // --- FACTOR 6 ---
        // SCENE 28: Factor 6 Title (5s)
        { duration: 5000, content: `
            <div class="title text-accent">FACTOR #6: REGENERATION</div>
            <div class="punchy-headline text-warning">What if your Load Drives the Motor?</div>`
        },
        // SCENE 29: Overvoltage Fault (10s)
        { duration: 10000, content: `
            <div class="subtitle text-accent">The Overvoltage Trap</div>
            <div class="punchy-headline text-warning">Cranes & Hoists Can Trip Your VFD!</div>
             <div class="card accent">
                <div class="card-title text-accent">The Danger Sequence:</div>
                 <div class="card-text">
                    1. Lowering hoist = Motor becomes generator (regen!).<br>
                    2. Pumps energy BACK into VFD.<br>
                    3. DC Bus voltage spikes → <span class="critical">"Overvoltage" Fault!</span><br>
                    4. VFD trips. Brake releases. Load falls. <span class="critical">DISASTER.</span>
                </div>
            </div>`
        },
        // SCENE 30: Braking Solutions (11s)
        { duration: 11000, content: `
            <div class="subtitle text-success">Stopping Safely: Braking Options</div>
            <div class="punchy-headline text-warning">DBR (Waste Heat) vs. AFE (Recover Energy)</div>
             <div class="two-col-grid">
                 <div class="card">
                    <div class="card-title text-primary">Dynamic Braking (DBR)</div>
                    <div class="card-text"><strong>How:</strong> Dumps energy into resistor (heat).<br><strong>Pro:</strong> Cheap.<br><strong>Con:</strong> Wastes energy.</div>
                </div>
                <div class="card success">
                    <div class="card-title text-success">Active Front End (AFE)</div>
                    <div class="card-text"><strong>How:</strong> Pushes energy back to grid.<br><strong>Pro:</strong> Saves energy, fixes PF.<br><strong>Con:</strong> Costs more upfront.</div>
                </div>
            </div>
            <div class="key-point"><strong>Guideline:</strong> Occasional braking = DBR. Continuous = AFE (pays back fast!).</div>`
        },

        // --- FACTOR 7 ---
        // SCENE 31: Factor 7 Title (4s)
        { duration: 4000, content: `
            <div class="title text-primary">FACTOR #7: TOPOLOGY</div>
            <div class="punchy-headline text-warning">Which Type of VFD Do You Need?</div>`
        },
        // SCENE 32: VSI (10s)
        { duration: 10000, content: `
            <div class="subtitle text-primary">Topology #1: VSI (Voltage Source Inverter)</div>
            <div class="punchy-headline text-warning">The Standard Workhorse (95% of VFDs)</div>
            <div class="card success" style="max-width: 900px;">
                <div class="card-title text-success">How it Works:</div>
                 <div class="card-text">AC → Diodes → DC Bus → IGBTs → PWM AC</div>
                <div class="card-title text-success" style="margin-top: 1rem;">Best For:</div>
                 <div class="card-text">0.5kW to ~5MW. Most general applications (fans, pumps, conveyors).</div>
            </div>`
        },
        // SCENE 33: AFE (11s)
        { duration: 11000, content: `
            <div class="subtitle text-success">Topology #2: AFE (Active Front End)</div>
            <div class="punchy-headline text-warning">The Premium Choice for Clean Power & Regen</div>
             <div class="card success" style="max-width: 900px;">
                 <div class="card-title text-success">How it Works:</div>
                 <div class="card-text">Uses IGBTs for AC→DC (Active Rectifier). Bidirectional.</div>
                <div class="card-title text-success" style="margin-top: 1rem;">Best For:</div>
                 <div class="card-text">Hoists, Cranes, Centrifuges. Sites needing <3% THD.</div>
                 <div class="card-title text-success" style="margin-top: 1rem;">Key Perks:</div>
                 <div class="card-text">Unity PF, Low Harmonics, Regen Capable.</div>
            </div>`
        },
        // SCENE 34: LCI (11s)
        { duration: 11000, content: `
            <div class="subtitle text-accent">Topology #3: LCI (Load Commutated Inverter)</div>
            <div class="punchy-headline text-warning">The Specialist for Multi-Megawatt Monsters!</div>
             <div class="card accent" style="max-width: 900px;">
                <div class="card-title text-accent">How it Works:</div>
                 <div class="card-text"><span class="critical">Current Source</span> (Uses SCRs). Needs special motor.</div>
                 <div class="card-title text-accent" style="margin-top: 1rem;">Best For:</div>
                 <div class="card-text"><span class="critical">HUGE Drives: 2MW to 100MW+</span> (Pipelines, Mills)</div>
            </div>
             <div class="key-point"><strong>CRITICAL:</strong> LCI ONLY works with SYNCHRONOUS motors!</div>`
        },

        // --- CASE STUDY ---
        // SCENE 35: Case Study Intro (8s)
        { duration: 8000, content: `
            <div class="title text-success">Case Study Time! Let's Apply It.</div>
            <div class="punchy-headline text-warning">Sizing a Real-World Mixer VFD</div>
             <div class="card">
                <div class="card-title text-primary">The Specs:</div>
                 <div class="card-text formula-font">
                    <strong>Where:</strong> 1800m altitude, 48°C Ambient<br>
                    <strong>Motor:</strong> 75 kW, 130A FLA, PF=0.88<br>
                    <strong>Load:</strong> Mixer (Constant Torque!)<br>
                    <strong>Cable:</strong> 80 meters long<br>
                    <strong>Rule:</strong> Must meet IEEE 519 (<5% THD)
                </div>
            </div>`
        },
        // SCENE 36: Case Study Steps 1 & 2 (10s)
        { duration: 10000, content: `
            <div class="subtitle text-primary">Case Study Steps 1 & 2: Load & De-Rate</div>
            <div class="punchy-headline text-warning">Calculate the REAL Amps Needed</div>
             <div class="two-col-grid">
                 <div class="card">
                    <div class="card-title text-primary">1: Load Profile</div>
                    <div class="card-text">Mixer = CT → Need <span class="highlight">Heavy Duty (HD)</span>.<br>Target Amps = 130A × 1.3 ≈ <span class="critical">169A</span></div>
                </div>
                <div class="card warning">
                    <div class="card-title text-warning">2: De-Rating</div>
                    <div class="card-text">Altitude (1800m) = <span class="critical">8%</span> loss<br>Temp (48°C) = <span class="critical">12%</span> loss<br><strong>Total = 20% LOSS!</strong></div>
                </div>
            </div>
             <div class="formula-box text-white">VFD Must Supply: 169A / (1 - 0.20) = <span class="text-success" style="font-weight: 700;">211 Amps!</span></div>`
        },
        // SCENE 37: Case Study Steps 3 & 4 (10s)
        { duration: 10000, content: `
            <div class="subtitle text-primary">Case Study Steps 3 & 4: Harmonics & Protection</div>
            <div class="punchy-headline text-warning">Choose Topology & Add Safety Gear</div>
            <div class="two-col-grid">
                <div class="card accent">
                    <div class="card-title text-accent">3: Power Quality</div>
                    <div class="card-text">Need <5% THD? → <span class="highlight">AFE is MANDATORY.</span></div>
                </div>
                <div class="card success">
                    <div class="card-title text-success">4: Motor Protection</div>
                    <div class="card-text">80m cable? Need:<br>+ dV/dt Filter<br>+ Shaft Grounding<br>+ Forced Blower (IC416)</div>
                </div>
            </div>`
        },
        // SCENE 38: Case Study Final Spec (11s)
        { duration: 11000, content: `
            <div class="subtitle text-success">Case Study: The Shocking Result</div>
            <div class="punchy-headline text-warning">A 75kW motor needs a... 250kW VFD?!</div>
             <div class="card success">
                <div class="card-title text-success">The CORRECT VFD Spec:</div>
                 <div class="card-text formula-font">
                    <strong>VFD:</strong> 250kW AFE Drive (HD rated > 211A)<br>
                    <strong>Topology:</strong> Active Front End (for <5% THD)<br>
                    <strong>Add-ons:</strong> dV/dt filter, Cooling<br>
                    <strong>Motor Mods:</strong> Shaft Grounding, Insulated Bearing, Forced Blower<br><br>
                    <span class="text-white highlight" style="font-size: 1.1em;">YES. This is proper engineering. Anything less WILL fail.</span>
                </div>
            </div>`
        },

        // --- INSTALLATION ---
        // SCENE 39: Installation Intro (4s)
        { duration: 4000, content: `
            <div class="title text-accent">CRITICAL: INSTALLATION</div>
            <div class="punchy-headline text-warning">#1 Reason PERFECT Designs Fail!</div>`
        },
        // SCENE 40: Grounding (10s)
        { duration: 10000, content: `
            <div class="subtitle text-accent">Grounding: Non-Negotiable Rules!</div>
            <div class="punchy-headline text-warning">Get this wrong? EMI Nightmare!</div>
            <div class="card accent" style="max-width: 900px;">
                <div class="card-title text-accent">Grounding MUSTS:</div>
                 <div class="card-text">
                    <strong>1. Shielded Cable ONLY:</strong> VFD cable is special!<br>
                    <strong>2. 360° Termination:</strong> Use EMC glands BOTH ends.<br>
                    <span class="critical" style="font-size: 1.1em;">PIGTAILS = INSTANT FAILURE!</span><br>
                    <strong>3. Separate Ground Wire:</strong> Full size, dedicated.
                </div>
            </div>`
        },
        // SCENE 41: Wiring & Panel (10s)
        { duration: 10000, content: `
            <div class="subtitle text-warning">Wiring & Panel Design</div>
            <div class="punchy-headline text-primary">Keep Signals Clean. Keep Heat Out.</div>
             <div class="two-col-grid">
                <div class="card warning">
                    <div class="card-title text-warning">Control Wiring</div>
                    <div class="card-text">
                         ✓ Shielded Twisted Pair ALWAYS.<br>
                         ✓ Route SEPARATELY from power.<br>
                         ✓ Cross power at 90° ONLY.
                    </div>
                </div>
                <div class="card warning">
                    <div class="card-title text-warning">Panel Cooling</div>
                    <div class="card-text">
                        100kW VFD = 3-5kW HEAT!<br>
                         ✓ Filtered Fans (In & Out).<br>
                         ✓ Airflow: Bottom IN → Top OUT.
                    </div>
                </div>
            </div>`
        },
        // SCENE 42: Commissioning (11s)
        { duration: 11000, content: `
            <div class="subtitle text-success">Commissioning: The Final Check</div>
            <div class="punchy-headline text-warning">Verify. Program. Tune. DON'T SKIP!</div>
             <div class="two-col-grid">
                 <div class="card success">
                    <div class="card-title text-success">Before Power On:</div>
                     <div class="card-text checklist-item" style="margin: 0.5vh 0;"> <span class="check-icon">✓</span> Insulation Test (>100MΩ)</div>
                     <div class="card-text checklist-item" style="margin: 0.5vh 0;"> <span class="check-icon">✓</span> Ground Check (<1Ω)</div>
                     <div class="card-text checklist-item" style="margin: 0.5vh 0;"> <span class="check-icon">✓</span> LOTO! Safety First!</div>
                </div>
                <div class="card">
                    <div class="card-title text-primary">Key Parameters:</div>
                    <div class="card-text formula-font">
                        1. Motor Nameplate Data!<br>
                        2. Accel/Decel Ramps (Slow!)<br>
                        3. Control Mode (V/f vs Vector)
                    </div>
                </div>
            </div>`
        },

        // --- FINANCIALS ---
        // SCENE 43: Financials VT (10s)
        { duration: 10000, content: `
            <div class="title text-success">The Payback: Why Bother?</div>
            <div class="punchy-headline text-warning">VT Loads (Fans/Pumps) = $$$ Savings!</div>
            <div class="card success">
                <div class="card-title text-success">Cube Law = Big Bucks! (P ∝ N³)</div>
                 <div class="card-text formula-font">
                    20% Speed Reduction = <span class="critical">~50% Power Reduction!</span><br><br>
                    <strong>Ex:</strong> 75kW Fan @ 75% Avg Speed<br>
                    <span class="text-accent">Savings: ≈ 320 MWh/year</span> → <span class="text-success" style="font-size: 1.2em;">$32,000+/year!</span>
                </div>
            </div>`
        },
        // SCENE 44: Financials CT (10s)
        { duration: 10000, content: `
            <div class="subtitle text-accent">The Payback: CT Loads (Conveyors)</div>
            <div class="punchy-headline text-warning">It's Not Energy Savings... It's UPTIME!</div>
            <div class="card accent">
                <div class="card-title text-accent">VFDs Prevent Breakdowns:</div>
                 <div class="card-text">
                     <strong>Soft Start = Still Jerky:</strong> Breaks belts, couplings.<br>
                    <strong>VFD = Smooth Ramp:</strong> No shock! Life extends 3-4x.<br><br>
                    <span class="text-success" style="font-weight: 700;"> ROI = Reduced Maintenance ≈ $50K-100K over 10 years.</span>
                </div>
            </div>`
        },

        // --- SUMMARY ---
        // SCENE 45: Expert Checklist Review (10s)
        { duration: 10000, content: `
            <div class="title text-success">Your Expert Checklist RECAP</div>
            <div class="punchy-headline text-warning">Burn this into your brain!</div>
            <div class="card success checklist" style="max-width: 900px; font-size: clamp(0.85rem, 2vw, 1.1rem);">
                <div class="checklist-item"><span class="check-icon">✓</span> FLA Sizing</div>
                <div class="checklist-item"><span class="check-icon">✓</span> Load Profile (ND/HD)</div>
                <div class="checklist-item"><span class="check-icon">✓</span> De-Rating (Alt/Temp)</div>
                <div class="checklist-item"><span class="check-icon">✓</span> Harmonics (AFE?)</div>
                <div class="checklist-item"><span class="check-icon">✓</span> Cable Length (dV/dt?)</div>
                <div class="checklist-item"><span class="check-icon">✓</span> Motor Protection (Ground/Bearing)</div>
                <div class="checklist-item"><span class="check-icon">✓</span> Braking (DBR/AFE?)</div>
            </div>`
        },
        // SCENE 46: Mistakes Recap (10s)
        { duration: 10000, content: `
            <div class="title text-accent">AVOID These 9 Costly Mistakes!</div>
             <div class="card accent formula-font" style="max-width: 900px; font-size: clamp(0.85rem, 2vw, 1.1rem); text-align: center;">
                 1️⃣ Sizing by kW ❌<br>
                 2️⃣ Forgetting De-rating ❌<br>
                 3️⃣ Ignoring Harmonics ❌<br>
                 4️⃣ Long cables, no filter ❌<br>
                 5️⃣ No Shaft Grounding ❌<br>
                 6️⃣ Pigtail Grounding ❌<br>
                 7️⃣ No Panel Cooling ❌<br>
                 8️⃣ Skipping Tuning ❌<br>
                 9️⃣ ND for CT loads ❌
            </div>`
        },
        // SCENE 47: Final Thoughts (8s)
        { duration: 8000, content: `
            <div class="title text-success">You Are Now VFD-Aware!</div>
            <div class="punchy-headline text-warning">This is the difference between average and EXCELLENT engineering.</div>
            <div class="content-text" style="font-size: clamp(1.1rem, 3vw, 1.7rem);">
                Proper VFDs = Massive Savings + Reliable Systems.
            </div>`
        },
         // SCENE 48: Call to Action (9s)
        { duration: 9000, content: `
            <div class="title text-primary">Ready to Calculate?</div>
            <div class="subtitle text-warning" style="animation: pulse 2s infinite; font-size: clamp(1.2rem, 3.5vw, 2rem); margin-top: 1rem;">
                Visit: designcalculators.co.in
            </div>
            <div class="content-text" style="margin-top: 2rem; color: var(--text-dim);">
                 Free Sizing Tools, De-Rating Calculators & More!
            </div>
            <div class="icon-large" style="margin-top: 1.5rem; animation: pulse 1.5s infinite;">✨</div>`
        },
        // SCENE 49: End Screen (7s)
        { duration: 7000, content: `
            <div class="title text-primary" style="animation: glow 2s infinite;">⚡ VFD Selection Mastery ⚡</div>
            <div class="subtitle text-success">Thank You For Watching!</div>
            <div class="icon-large">👏</div>`
        }
    ];
    // --- END OF SCENES ---


    function showScene(index) {
        container.innerHTML = ''; // Clear previous content

        const sceneData = scenes[index];
        if (!sceneData) {
            console.error(`Invalid scene index: ${index}`);
            currentSceneIndex = 0; // Loop back
            container.innerHTML = scenes[0].content; // Render first scene's content
            // Need to manually add footer here for the failsafe case
            const failsafeFooter = document.createElement('div');
            failsafeFooter.className = 'footer-wrapper';
            failsafeFooter.innerHTML = `<a href="https://designcalculators.co.in" target="_blank">Prepared by https://designcalculators.co.in</a>`;
            container.appendChild(failsafeFooter);
            resetInterval();
            return;
        }

        // Create scene content container
        const sceneContentElement = document.createElement('div');
        sceneContentElement.className = 'scene-content';
        sceneContentElement.innerHTML = sceneData.content;
        container.appendChild(sceneContentElement);

        // Create and append the fixed footer
        const footerElement = document.createElement('div');
        footerElement.className = 'footer-wrapper';
        // Make the URL clickable
        footerElement.innerHTML = `<a href="https://designcalculators.co.in" target="_blank">Prepared by https://designcalculators.co.in</a>`;
        container.appendChild(footerElement);

        // Try to reset scroll for potentially scrollable content, though overflow is hidden
        requestAnimationFrame(() => {
           if(sceneContentElement) sceneContentElement.scrollTop = 0;
        });
    }


    function nextScene() {
        currentSceneIndex = (currentSceneIndex + 1) % scenes.length;
        showScene(currentSceneIndex);
        resetInterval();
    }

    function prevScene() {
        currentSceneIndex = (currentSceneIndex - 1 + scenes.length) % scenes.length;
        showScene(currentSceneIndex);
        resetInterval();
    }

    function resetInterval() {
        clearInterval(sceneInterval);
        let duration = 7000; // Default duration
        if (scenes[currentSceneIndex] && typeof scenes[currentSceneIndex].duration === 'number') {
            duration = scenes[currentSceneIndex].duration;
        }
        sceneInterval = setInterval(nextScene, duration);
    }

    // Initialize
    if (scenes.length > 0) {
        showScene(0);
        resetInterval();
    }

    // Keyboard navigation
    document.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowRight' || e.key === ' ') {
            e.preventDefault();
            nextScene();
        } else if (e.key === 'ArrowLeft') {
            e.preventDefault();
            prevScene();
        }
    });

    // Mouse click/Tap to advance
    container.addEventListener('click', (e) => {
        // Prevent advancing if a link inside the footer or content is clicked
        if (e.target.tagName === 'A' || e.target.closest('a')) {
            return;
        }
        nextScene();
    });

    // --- Touch Navigation (Swipe) ---
    let touchStartX = 0;
    let touchStartY = 0; // Added Y tracking
    const swipeThreshold = 50; // Min horizontal distance for swipe
    const swipeYThreshold = 70; // Max vertical distance allowed during swipe

    container.addEventListener('touchstart', (e) => {
        // Only prevent default if not touching a link
        if (!(e.target.tagName === 'A' || e.target.closest('a'))) {
             // e.preventDefault(); // Might interfere with scrolling if enabled later
        }
        touchStartX = e.changedTouches[0].screenX;
        touchStartY = e.changedTouches[0].screenY; // Record Y start
    }, { passive: false }); // Need false to potentially prevent default later

    container.addEventListener('touchend', (e) => {
         if (e.target.tagName === 'A' || e.target.closest('a')) {
            return; // Allow link clicks
        }

        const touchEndX = e.changedTouches[0].screenX;
        const touchEndY = e.changedTouches[0].screenY; // Record Y end
        const diffX = touchEndX - touchStartX;
        const diffY = touchEndY - touchStartY; // Calculate Y difference

        // Check for horizontal swipe AND ensure it's not mostly a vertical scroll gesture
        if (Math.abs(diffX) > swipeThreshold && Math.abs(diffY) < swipeYThreshold) {
            e.preventDefault(); // Prevent click event after swipe
            e.stopPropagation(); // Stop further event bubbling
            if (diffX < 0) {
                // Swiped left
                nextScene();
            } else {
                // Swiped right
                prevScene();
            }
        }
        // If it's not a clear horizontal swipe, the default click listener will handle tap-to-advance
    }, { passive: false }); // Need false to prevent default on swipe

</script>

</body>
</html>
