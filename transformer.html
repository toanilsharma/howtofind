<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Industrial Transformer Mastery - Beyond the Nameplate</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #00d4ff; /* Main theme color - Electric Blue */
            --accent: #ffb700; /* Accent color - Gold/Yellow for warnings/emphasis */
            --success: #39ff14; /* Success/Good - Neon Green */
            --danger: #ff2e63; /* Danger/Bad - Neon Pink/Red */
            --dark-bg: #0a0e27; /* Deep Navy Blue */
            --card-bg: #1a2847; /* Slightly Lighter Navy */
            --text-main: #ffffff; /* White */
            --text-dim: #b0c4de; /* Light Steel Blue */
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        html, body {
            width: 100%;
            height: 100%;
            overflow: hidden;
            max-width: 100%;
        }

        body {
            background: linear-gradient(135deg, var(--dark-bg) 0%, var(--card-bg) 50%, var(--dark-bg) 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Poppins', sans-serif;
            color: var(--text-main);
            font-size: 16px; /* Base for rem units */
        }

        #container {
            width: 100vw;
            height: 100vh;
            background: var(--dark-bg);
            display: flex;
            flex-direction: column; /* Key for fixed footer */
            overflow: hidden;
            position: relative;
            cursor: pointer;
        }

        /* Holds the slide content, separate from the footer */
        .scene-content {
            width: 100%;
            flex: 1; /* Takes all available vertical space */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 1.5vh 3vw; /* Increased vertical padding slightly */
            text-align: center;
            overflow-y: auto; /* Allow scrolling if needed */
            overflow-x: hidden;
            opacity: 0;
            animation: fadeInScene 0.7s ease-out forwards; /* Faster fade */
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        .scene-content::-webkit-scrollbar { display: none; }


        @keyframes fadeInScene { from { opacity: 0; transform: scale(0.98); } to { opacity: 1; transform: scale(1); } } /* Subtle scale in */
        @keyframes slideUpIn { from { opacity: 0; transform: translateY(25px); } to { opacity: 1; transform: translateY(0); } } /* Reduced distance */
        @keyframes slideDownIn { from { opacity: 0; transform: translateY(-25px); } to { opacity: 1; transform: translateY(0); } } /* Reduced distance */
        @keyframes scaleUpIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } } /* More subtle scale */
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.04); } } /* Slightly reduced pulse */
        @keyframes glow { 0%, 100% { text-shadow: 0 0 15px rgba(0, 212, 255, 0.7), 0 0 30px rgba(0, 212, 255, 0.4); } 50% { text-shadow: 0 0 30px rgba(0, 212, 255, 1), 0 0 50px rgba(0, 212, 255, 0.6); } } /* Adjusted glow intensity */

        /* --- FONT SIZE ADJUSTMENTS --- */
        .title {
            font-size: clamp(2rem, 6vw, 3.5rem); /* Increased min, adjusted preferred */
            font-weight: 800;
            margin-bottom: 1.5vh;
            line-height: 1.15;
            animation: slideDownIn 0.7s ease-out; /* Faster animation */
            letter-spacing: 0.5px;
        }

        .subtitle {
            font-size: clamp(1.5rem, 4.5vw, 2.5rem); /* Increased min */
            font-weight: 700;
            margin-bottom: 1.5vh;
            line-height: 1.2;
            animation: slideUpIn 0.7s ease-out 0.1s forwards; /* Faster animation */
            opacity: 0;
        }

        .punchy-headline {
            font-size: clamp(1.3rem, 4vw, 2.2rem); /* Increased min */
            font-weight: 700;
            margin: 1.5vh 0;
            line-height: 1.3;
            animation: slideUpIn 0.7s ease-out 0.15s forwards; /* Faster animation */
            opacity: 0;
            letter-spacing: 0.3px;
        }

        .content-text {
            font-size: clamp(1rem, 3vw, 1.7rem); /* Increased min & preferred */
            color: var(--text-dim);
            line-height: 1.65; /* Slightly increased for readability */
            margin: 1vh auto;
            animation: slideUpIn 0.8s ease-out 0.2s forwards; /* Faster animation */
            max-width: 90%; /* Reduced slightly */
            opacity: 0;
        }

        .text-primary { color: var(--primary); animation: glow 2.5s infinite; font-weight: 700; }
        .text-accent { color: var(--accent); font-weight: 700; }
        .text-success { color: var(--success); font-weight: 700; }
        .text-danger { color: var(--danger); font-weight: 700; }
        .text-white { color: white; font-weight: 600; } /* Added weight */

        .icon-large {
            font-size: clamp(3.5rem, 10vw, 5rem); /* Increased min */
            animation: pulse 2s infinite ease-in-out; /* Smoother pulse */
            margin: 1.5vh 0;
        }

        .card {
            background: rgba(var(--primary-rgb, 0, 212, 255), 0.08); /* Use RGB for opacity */
            border: 2px solid var(--primary);
            border-radius: 16px;
            padding: clamp(1.1rem, 3vw, 1.5rem); /* Increased min padding */
            margin: 1.5vh auto;
            animation: scaleUpIn 0.6s ease-out; /* Faster animation */
            width: 95%;
            max-width: 900px; /* Slightly increased max-width */
            text-align: left;
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
        }
         /* Setup RGB variables for opacity */
        .card.accent { background: rgba(255, 183, 0, 0.1); border-color: var(--accent); } /* Increased opacity slightly */
        .card.success { background: rgba(57, 255, 20, 0.1); border-color: var(--success); } /* Increased opacity slightly */
        .card.danger { background: rgba(255, 46, 99, 0.1); border-color: var(--danger); } /* Increased opacity slightly */


        .card-title {
            font-size: clamp(1.1rem, 3vw, 1.7rem); /* Increased min */
            font-weight: 700;
            margin-bottom: 0.8rem;
            letter-spacing: 0.3px;
        }

        .card-text {
            font-size: clamp(0.95rem, 2.5vw, 1.4rem); /* Increased min & preferred */
            color: #e8f0f8; /* Slightly brighter */
            line-height: 1.7; /* Increased */
        }

        .card-text strong { color: var(--success); font-weight: 700; } /* Reduced weight */
        .card-text .highlight { color: var(--primary); font-weight: 700; } /* Reduced weight */
        .card-text .critical { color: var(--danger); font-weight: 700; text-transform: uppercase; } /* Added uppercase */

        .code-text {
            font-family: 'Courier New', monospace;
            background: rgba(0,0,0,0.4); /* Darker */
            padding: 0.4rem 0.7rem; /* Increased padding */
            border-radius: 5px; /* Slightly more rounded */
            font-size: clamp(0.9rem, 2vw, 1.2rem); /* Increased min */
            display: inline-block;
            margin: 0.3rem 0;
            border: 1px solid rgba(var(--primary-rgb, 0, 212, 255), 0.2); /* Subtle border */
        }

        .formula-font {
            font-family: 'Courier New', monospace;
            line-height: 1.7;
            font-size: clamp(0.95rem, 2.4vw, 1.4rem); /* Increased min & preferred */
        }

        .formula-box {
            background: rgba(0, 0, 0, 0.5); /* Darker */
            border-left: 5px solid var(--accent); /* Thicker border */
            padding: 1.2rem; /* Increased padding */
            margin: 1.5vh auto;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: clamp(1rem, 2.5vw, 1.5rem); /* Increased min */
            line-height: 1.7;
            text-align: center;
            animation: slideUpIn 0.8s ease-out; /* Faster */
            width: fit-content;
            max-width: 92%; /* Increased */
            box-shadow: 0 4px 15px rgba(0,0,0,0.3); /* Added shadow */
        }


        .two-col-grid, .three-col-grid {
            display: grid;
            gap: clamp(1rem, 2.5vw, 1.2rem); /* Increased gap */
            width: 96%; /* Increased */
            max-width: 1250px; /* Increased */
            margin: 1.5vh auto;
            animation: slideUpIn 0.9s ease-out; /* Faster */
        }
        .two-col-grid { grid-template-columns: repeat(auto-fit, minmax(min(100%, 300px), 1fr)); } /* Increased min */
        .three-col-grid { grid-template-columns: repeat(auto-fit, minmax(min(100%, 260px), 1fr)); } /* Increased min */


        .comparison-table {
            width: 96%; /* Increased */
            max-width: 1000px; /* Increased */
            margin: 1rem auto;
            border-collapse: collapse;
            animation: scaleUpIn 0.7s ease-out; /* Faster */
            overflow-x: auto;
        }

        .comparison-table th, .comparison-table td {
            padding: clamp(0.7rem, 2vw, 0.9rem); /* Increased padding */
            text-align: left;
            border-bottom: 1px solid rgba(0, 212, 255, 0.4); /* More visible border */
            font-size: clamp(0.9rem, 2vw, 1.1rem); /* Increased min */
            color: var(--text-dim);
            white-space: normal;
        }

        .comparison-table th {
            background: rgba(0, 212, 255, 0.2); /* More visible */
            font-weight: 700;
            color: var(--primary);
        }

        .comparison-table tr td:first-child {
            color: var(--text-main);
            font-weight: 600;
        }

        .comparison-table tr:hover {
            background: rgba(0, 212, 255, 0.1); /* More visible hover */
        }

        .checklist {
           width: 95%;
           max-width: 850px; /* Increased */
           margin: 1vh auto;
           text-align: left;
           animation: slideUpIn 0.9s ease-out; /* Faster */
        }

        .checklist-item {
            display: flex;
            align-items: center; /* Center items vertically */
            margin: 1.2vh 0; /* Increased margin */
            color: var(--text-dim);
            line-height: 1.6; /* Increased */
            font-size: clamp(0.95rem, 2.4vw, 1.3rem); /* Increased min & preferred */
            animation: slideUpIn 0.9s ease-out; /* Faster */
            text-align: left;
        }
        .checklist-item div { flex: 1; }

        .checklist-item strong { color: var(--success); font-weight: 700; }
        .check-icon {
            color: var(--success);
            font-weight: 900;
            margin-right: 0.8rem; /* Increased */
            font-size: 1.2em; /* Increased */
            line-height: 1; /* Aligned better */
            flex-shrink: 0;
        }

        .key-point {
            background: linear-gradient(90deg, rgba(var(--accent-rgb, 255, 183, 0), 0.25) 0%, rgba(var(--danger-rgb, 255, 46, 99), 0.15) 100%); /* Use RGB, stronger gradient */
            border-left: 5px solid var(--accent); /* Thicker */
            padding: 1rem; /* Increased */
            margin: 1.5vh auto;
            border-radius: 10px; /* More rounded */
            font-size: clamp(1rem, 2.6vw, 1.4rem); /* Increased min */
            line-height: 1.65; /* Increased */
            animation: slideUpIn 0.7s ease-out; /* Faster */
            text-align: left;
            width: 96%; /* Increased */
            max-width: 900px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2); /* Added shadow */
        }
         /* Add RGB versions for opacity */
        :root {
            --primary-rgb: 0, 212, 255;
            --accent-rgb: 255, 183, 0;
            --danger-rgb: 255, 46, 99;
        }


        /* FIXED FOOTER STYLE */
        .footer-wrapper {
            width: 100%;
            text-align: center;
            padding: 1.5vh 0;
            background: rgba(0, 0, 0, 0.85); /* Slightly darker */
            font-size: clamp(0.8rem, 2.2vw, 1.1rem); /* Increased min */
            color: var(--accent);
            border-top: 2px solid rgba(var(--primary-rgb), 0.4); /* More visible */
            flex-shrink: 0;
            position: relative;
            z-index: 100;
            animation: slideUpIn 1s ease-out; /* Faster */
        }
        .footer-wrapper a {
           color: var(--accent);
           text-decoration: none;
           font-weight: 700; /* Bolder link */
        }
        .footer-wrapper a:hover {
           text-shadow: 0 0 15px var(--accent);
        }

    </style>
</head>
<body>

<div id="container"></div>

<script>
    const container = document.getElementById('container');
    let currentSceneIndex = 0;
    let sceneInterval;

    // --- SCENES ARRAY (Punchier Headlines & Text) ---
    const scenes = [
        // SCENE 1: Title Card (7s)
        { duration: 7000, content: `
            <div class="title text-primary">⚡ TRANSFORMER MASTERY ⚡</div>
            <div class="subtitle text-success">STOP Guessing, START Engineering!</div>
            <div class="punchy-headline text-accent">Unlock the Secrets Behind Reliable Power</div>
            <div class="icon-large">🔌</div>`
        },
        // SCENE 2: The Stakes (6s)
        { duration: 6000, content: `
            <div class="title text-danger">🔴 One Wrong Spec = MILLIONS Lost!</div>
            <div class="punchy-headline text-accent">$5M Fire. Weeks of Blackout. It Happens.</div>
            <div class="content-text text-white">Transformers aren't set-and-forget. Get this wrong, pay the price.</div>`
        },
        // SCENE 3: Real Example Intro (5s)
        { duration: 5000, content: `
            <div class="subtitle text-danger">WARNING: Real-World Disaster</div>
            <div class="punchy-headline text-accent">How Ignoring ONE Detail Ignited a Steel Mill</div>
            <div class="content-text">Think it can't happen to you? Think again...</div>`
        },
         // SCENE 4: Real Example Details (8s)
        { duration: 8000, content: `
            <div class="key-point">
                <strong>The Setup:</strong> New 2500 kVA Dry-Type Transformer.<br>
                <strong>The FATAL Mistake:</strong> Ignoring <span class="critical">HARMONICS (K-Factor)</span> from VFDs!<br>
                <strong>The Nightmare:</strong> Cooked from the inside out → Insulation Failed → KABOOM! 🔥 (18 months later)
            </div>
            <div class="content-text text-success">Don't let this be your plant. Learn the fix!</div>`
        },
        // SCENE 5: Why This Class (6s)
        { duration: 6000, content: `
            <div class="title text-success">Why THIS Masterclass Matters</div>
            <div class="punchy-headline text-primary">Nameplates LIE (by omission)!</div>
            <div class="content-text">Go beyond the basics. Master the physics, environment & hidden risks for bulletproof power systems.</div>`
        },
        // SCENE 6: Intro The 6 Pillars (5s)
        { duration: 5000, content: `
            <div class="title text-primary">The 6 Pillars of Transformer GOD MODE</div>
            <div class="punchy-headline text-accent">Master These. Never Specify Wrong Again.</div>`
        },
        // SCENE 7: Listing the 6 Pillars (10s)
        { duration: 10000, content: `
            <div class="checklist" style="max-width: 900px;">
                <div class="checklist-item"><span class="check-icon">1️⃣</span><div><strong>Ratings & Type:</strong> kVA, Volts, Oil or Dry?</div></div>
                <div class="checklist-item"><span class="check-icon">2️⃣</span><div><strong>Impedance (%Z):</strong> Your Fault Current Shield!</div></div>
                <div class="checklist-item"><span class="check-icon">3️⃣</span><div><strong>Cooling & Environment:</strong> Don't Let it Sweat!</div></div>
                <div class="checklist-item"><span class="check-icon">4️⃣</span><div><strong>Harmonics (K-Factor):</strong> The SILENT Killer!</div></div>
                <div class="checklist-item"><span class="check-icon">5️⃣</span><div><strong>Efficiency ($$$):</strong> Lowest TCO Wins!</div></div>
                <div class="checklist-item"><span class="check-icon">6️⃣</span><div><strong>Protection & Safety:</strong> Survive the Zap!</div></div>
            </div>`
        },

        // --- PILLAR 1 ---
        // SCENE 8: Pillar 1 Title (4s)
        { duration: 4000, content: `
            <div class="title text-primary">PILLAR #1: THE NON-NEGOTIABLES</div>
            <div class="punchy-headline text-success">Get These Basics Right, Or Else!</div>`
        },
        // SCENE 9: Core Ratings (8s)
        { duration: 8000, content: `
            <div class="subtitle text-primary">Decoding the DNA: Core Specs</div>
             <div class="card success">
                 <div class="card-title text-success">The Big Four:</div>
                 <div class="card-text formula-font">
                    <strong>kVA:</strong> How Much Power? (Dictates Size!)<br>
                    <strong>Voltage:</strong> Step Up? Step Down? Ratio is Key!<br>
                    <strong>Phase:</strong> Single (1Ø) or Three (3Ø)?<br>
                    <strong>Frequency:</strong> 50Hz or 60Hz? Match Your Grid!
                </div>
            </div>`
        },
        // SCENE 10: Oil vs Dry (10s)
        { duration: 10000, content: `
            <div class="subtitle text-primary">Oil vs. Dry: Which Armor Does It Wear?</div>
            <div class="punchy-headline text-accent">Location, Safety & Cost Dictate the Choice!</div>
             <div class="two-col-grid">
                <div class="card">
                    <div class="card-title text-primary">OIL-FILLED (The Outdoor Champ)</div>
                    <div class="card-text"><strong>WIN:</strong> Cools better, cheaper/kVA.<br><strong>LOSE:</strong> Fire risk! Needs vault/outdoors.</div>
                </div>
                <div class="card accent">
                    <div class="card-title text-accent">DRY-TYPE (The Indoor Guardian)</div>
                    <div class="card-text"><strong>WIN:</strong> Fire safe! Less messy.<br><strong>LOSE:</strong> Bigger, heavier, hates dirt!</div>
                </div>
            </div>`
        },

        // --- PILLAR 2 ---
        // SCENE 11: Pillar 2 Title (5s)
        { duration: 5000, content: `
            <div class="title text-accent">PILLAR #2: IMPEDANCE (%Z)</div>
            <div class="punchy-headline text-danger">IGNORING THIS = CATASTROPHE!</div>`
        },
        // SCENE 12: What is Impedance (10s)
        { duration: 10000, content: `
            <div class="subtitle text-accent">What the Heck IS Impedance?</div>
            <div class="punchy-headline text-primary">It's Electrical "Friction" - Controls FAULTS!</div>
            <div class="card accent">
                 <div class="card-text">
                    Imagine water in a pipe... %Z is like the pipe's resistance.<br><br>
                    <strong>HIGH %Z:</strong> Limits fault current (safer?) | More voltage sag.<br>
                    <strong>LOW %Z:</strong> HUGE fault current (danger!) | Less voltage sag.<br><br>
                    <span class="critical">GET THIS WRONG = WRONG BREAKERS = EXPLOSIONS!</span>
                </div>
            </div>`
        },
        // SCENE 13: Short Circuit Calc (10s)
        { duration: 10000, content: `
            <div class="subtitle text-danger">Know Your KA-BOOM Potential! (SCCR Calc)</div>
            <div class="punchy-headline text-accent">Math That Saves Lives (& Equipment)</div>
             <div class="formula-box text-white">Fault Amps ≈ Full Load Amps / (%Z / 100)</div>
             <div class="card danger">
                <div class="card-title text-danger">Real Numbers: 1000 kVA, 480V, 5.75%Z</div>
                 <div class="card-text formula-font">
                    FLA ≈ 1203 A<br>
                    Fault Current ≈ 1203 / 0.0575 = <span class="critical" style="font-size: 1.2em;">20,920 AMPS!</span><br>
                    <span class="text-white highlight">Your gear better be rated > 21kA AIC! CHECK IT!</span>
                </div>
            </div>`
        },

        // --- PILLAR 3 ---
        // SCENE 14: Pillar 3 Title (4s)
        { duration: 4000, content: `
            <div class="title text-primary">PILLAR #3: COOLING & TEMP</div>
            <div class="punchy-headline text-success">Don't Let Your Investment Overheat!</div>`
        },
        // SCENE 15: Cooling Classes (9s)
        { duration: 9000, content: `
            <div class="subtitle text-primary">Cooling Acronym Soup (ONAN, ONAF...)</div>
            <div class="punchy-headline text-success">Natural Breeze or Forced Gale?</div>
            <div class="card success">
                 <div class="card-text">
                    <strong>Oil:</strong> ONAN (Natural), ONAF (Add Fans)<br>
                    <strong>Dry:</strong> AN (Natural), AF (Add Fans)<br><br>
                    <span class="highlight">FANS (AF/ONAF) = MORE POWER!</span> (Adds ~15-33% kVA, but uses energy)
                </div>
            </div>`
        },
        // SCENE 16: Temp Rise (8s)
        { duration: 8000, content: `
            <div class="subtitle text-primary">Temperature Rise: The Lifespan Dictator</div>
            <div class="punchy-headline text-accent">Cooler Running = Decades Longer Life!</div>
             <div class="card accent">
                <div class="card-text">
                    How hot the windings get above ambient air.<br>
                    <strong>Standard:</strong> 65°C (Oil), 150°C (Dry).<br>
                    <strong>Low Rise (Costs More):</strong> 115°C, 80°C (Dry).<br>
                    <span class="highlight">Rule of Thumb: Every 10°C hotter = Halves insulation life!</span>
                </div>
            </div>`
        },
        // SCENE 17: Environmental De-rating (9s)
        { duration: 9000, content: `
            <div class="subtitle text-accent">WARNING: De-Rate for Reality!</div>
            <div class="punchy-headline text-danger">Heat, Altitude, Dirt STEAL Capacity!</div>
            <div class="card accent">
                 <div class="card-text formula-font">
                     <strong>Altitude (>1000m):</strong> Thinner air cools less! <span class="critical">Lose kVA!</span><br>
                     <strong>Hot Ambient (>Rated):</strong> Can't shed heat! <span class="critical">Lose kVA!</span><br>
                     <strong>Dirt/Dust (Dry Type):</strong> Blocks airflow! <span class="critical">OVERHEATS! CLEAN IT!</span>
                </div>
            </div>`
        },

        // --- PILLAR 4 ---
        // SCENE 18: Pillar 4 Title (5s)
        { duration: 5000, content: `
            <div class="title text-danger">PILLAR #4: HARMONICS</div>
            <div class="punchy-headline text-accent">The Silent Assassin of Transformers!</div>`
        },
        // SCENE 19: What are Harmonics (8s)
        { duration: 8000, content: `
            <div class="subtitle text-danger">What ARE Harmonics, Really?</div>
            <div class="punchy-headline text-accent">It's Electrical Pollution from Modern Loads!</div>
            <div class="card danger">
                 <div class="card-text">
                    VFDs, LEDs, Computers DON'T draw smooth power.<br>
                    They create <span class="critical">"noise" frequencies</span>.<br>
                    This noise = <span class="critical">EXTRA HEAT</span> standard transformers HATE!
                </div>
            </div>`
        },
        // SCENE 20: K-Factor (10s)
        { duration: 10000, content: `
            <div class="subtitle text-danger">K-Factor: Your Harmonic Armor Rating!</div>
            <div class="punchy-headline text-accent">Match K-Factor to Your Load's "Dirtiness"!</div>
            <div class="card danger">
                <div class="card-title text-danger">Know Your K-Number!</div>
                 <div class="card-text formula-font">
                     <strong>K-1:</strong> Clean Loads (Motors only)<br>
                     <strong>K-4:</strong> Office Loads (PCs)<br>
                     <strong>K-13:</strong> Heavy PCs, Welders<br>
                     <strong>K-20/K-30:</strong> VFD Central! Data Centers!<br><br>
                     <span class="critical highlight" style="font-size: 1.1em;">Using K-1 for VFDs = GUARANTEED Burnout!</span>
                </div>
            </div>`
        },

        // --- PILLAR 5 ---
        // SCENE 21: Pillar 5 Title (4s)
        { duration: 4000, content: `
            <div class="title text-success">PILLAR #5: EFFICIENCY = $$$</div>
            <div class="punchy-headline text-primary">Think Long Term! Save BIG Money!</div>`
        },
        // SCENE 22: Efficiency & TCO (9s)
        { duration: 9000, content: `
            <div class="subtitle text-success">TCO: The TRUE Cost of Power</div>
            <div class="punchy-headline text-primary">Purchase Price is Just the Tip of the Iceberg!</div>
            <div class="card success">
                 <div class="card-text">
                    <strong>DOE Standards:</strong> Set the minimum bar (good!).<br><br>
                    <strong>TCO = Buy Price + (Wasted Energy Cost × 30 Years!)</strong><br>
                    A <span class="highlight">high-efficiency (low loss)</span> unit might cost more upfront but saves WAY more over its life!
                </div>
            </div>`
        },
         // SCENE 23: Loss Evaluation (9s)
        { duration: 9000, content: `
            <div class="subtitle text-success">A vs. B: Decoding Loss Costs</div>
            <div class="punchy-headline text-primary">Compare Apples-to-Apples with $ per kW</div>
             <div class="formula-box text-white">Total Loss Cost = (A × No-Load Loss kW) + (B × Load Loss kW)</div>
             <div class="card success">
                <div class="card-title text-success">Ask Vendors for A/B Factors ($/kW)!</div>
                 <div class="card-text">
                    These put a dollar value on wasted energy. Use them to find the <span class="highlight">actual cheapest long-term option!</span>
                </div>
            </div>`
        },

        // --- PILLAR 6 ---
        // SCENE 24: Pillar 6 Title (4s)
        { duration: 4000, content: `
            <div class="title text-accent">PILLAR #6: PROTECTION!</div>
            <div class="punchy-headline text-danger">Safety Isn't Optional!</div>`
        },
        // SCENE 25: BIL (9s)
        { duration: 9000, content: `
            <div class="subtitle text-accent">BIL: Your Surge Bodyguard!</div>
            <div class="punchy-headline text-danger">Basic Impulse Level - Don't Skimp Here!</div>
            <div class="card accent">
                <div class="card-title text-accent">BIL (kV) = Surge Withstand</div>
                 <div class="card-text">
                     How much voltage spike (lightning!) it can take.<br>
                     Must match or exceed system requirements.<br>
                     <span class="critical">Too Low BIL = One Surge & It's Toast!</span>
                </div>
            </div>`
        },
        // SCENE 26: Overcurrent & Grounding (10s)
        { duration: 10000, content: `
            <div class="subtitle text-danger">Fuses, Breakers & Grounding: MUST HAVES!</div>
             <div class="two-col-grid">
                <div class="card danger">
                    <div class="card-title text-danger">Overcurrent Gear</div>
                    <div class="card-text"><strong>Primary:</strong> Protects XFMR.<br><strong>Secondary:</strong> Protects Loads. Coordination is KING!</div>
                </div>
                <div class="card accent">
                    <div class="card-title text-accent">Grounding = LIFE SAFETY!</div>
                    <div class="card-text"><strong>System:</strong> Bond Neutral!<br><strong>Equipment:</strong> Bond Case!<br><span class="critical">MESS THIS UP = LETHAL!</span></div>
                </div>
            </div>`
        },

        // --- EXAMPLE CALCULATION START ---
        // SCENE 27: Case Study Intro (8s)
        { duration: 8000, content: `
            <div class="title text-success">EXAMPLE TIME! Size It RIGHT!</div>
            <div class="punchy-headline text-primary">New Production Line - Let's Engineer It!</div>
            <div class="card success">
                <div class="card-title text-success">The Mission:</div>
                 <div class="card-text formula-font">
                    Input: 13.8 kV | Output: 480Y/277V<br>
                    Where: Denver (~1600m), Indoor (Max 35°C)<br>
                    Loads: VFDs, CNCs, LEDs (Harmonic Heavy!)
                </div>
            </div>`
        },
        // SCENE 28: Step 1 Load Calc (12s)
        { duration: 12000, content: `
            <div class="subtitle text-success">Step 1: How Much kVA?</div>
            <div class="punchy-headline text-primary">Sum Loads + Wiggle Room!</div>
             <div class="card">
                <div class="card-title text-primary">The Math:</div>
                 <div class="card-text formula-font">
                    Connected Loads = 700 kVA<br>
                    Demand Factor = 0.85 (Not all on at once)<br>
                    Future Growth = 1.20 (Plan ahead!)<br><br>
                    Demand ≈ 595 kVA<br>
                    Required ≈ 595 * 1.20 = <span class="highlight">714 kVA</span>
                </div>
                <div class="card-text" style="margin-top:0.5rem"><strong>Pick Standard Size: <span class="text-success">750 kVA</span></strong></div>
            </div>`
        },
        // SCENE 29: Step 2 Ratings & Type (9s)
        { duration: 9000, content: `
            <div class="subtitle text-success">Step 2: Basic Specs & Type</div>
            <div class="card success">
                <div class="card-text formula-font">
                    <strong>kVA:</strong> 750 kVA<br>
                    <strong>Pri/Sec:</strong> 13800D - 480Y/277V<br>
                    <strong>Phase/Freq:</strong> 3Ø / 60 Hz<br>
                    <strong>Location:</strong> Indoor → <span class="highlight">Dry-Type</span> Required!
                </div>
            </div>`
        },
        // SCENE 30: Step 3 Environment (12s)
        { duration: 12000, content: `
            <div class="subtitle text-accent">Step 3: De-rate Check!</div>
            <div class="punchy-headline text-warning">Will Altitude or Heat Shrink Our 750kVA?</div>
            <div class="card accent">
                <div class="card-title text-accent">Conditions: 1600m Altitude, Max 35°C Ambient</div>
                 <div class="card-text formula-font">
                    Altitude De-rate ≈ <span class="critical">1.8%</span> (Thin air!)<br>
                    Temp De-rate = <span class="highlight">0%</span> (35°C is below 40°C std)<br><br>
                    Effective kVA ≈ 750 * 0.982 ≈ 736 kVA<br>
                    Need 714 kVA... We're good!
                </div>
                <div class="card-text" style="margin-top:0.5rem"><strong><span class="text-success">750 kVA is STILL Big Enough!</span></strong></div>
            </div>`
        },
        // SCENE 31: Step 4 Harmonics (11s)
        { duration: 11000, content: `
            <div class="subtitle text-danger">Step 4: K-FACTOR TIME!</div>
            <div class="punchy-headline text-accent">Our Load is DIRTY (VFDs!). Protect the XFMR!</div>
             <div class="card danger">
                <div class="card-title text-danger">Load = VFDs + CNCs = High Harmonics!</div>
                 <div class="card-text">
                     K-1? <span class="critical">NO!</span> K-4? <span class="critical">NO!</span><br>
                     Need AT LEAST K-13.<br>
                     K-20 is the SAFE, smart choice here.<br><br>
                    <strong>Decision: Specify <span class="highlight">K-20 Rated Transformer!</span></strong>
                </div>
            </div>`
        },
         // SCENE 32: Step 5 Impedance (11s)
        { duration: 11000, content: `
            <div class="subtitle text-accent">Step 5: Impedance (%Z) Check</div>
            <div class="punchy-headline text-primary">Fault Current vs. Voltage Drop Trade-off</div>
            <div class="card accent">
                <div class="card-title text-accent">Using Standard <span class="highlight">5.75%Z</span>:</div>
                 <div class="card-text formula-font">
                    Fault Current ≈ <span class="critical">15.7 kA</span><br>
                    Voltage Drop @ FL ≈ 5.75% (Acceptable)
                </div>
                 <div class="card-text" style="margin-top:0.5rem"><strong>Decision: <span class="highlight">5.75%Z is OK.</span> BUT verify panel AIC > 16kA!</strong></div>
            </div>`
        },
        // SCENE 33: Step 6 Cooling & Temp (10s)
        { duration: 10000, content: `
            <div class="subtitle text-success">Step 6: Cooling & Temp Rise</div>
            <div class="punchy-headline text-primary">Standard Specs Are Good Here</div>
             <div class="card success">
                 <div class="card-text formula-font">
                    <strong>Cooling:</strong> <span class="highlight">AA/FA</span> (Fans give overload boost)<br>
                    <strong>Temp Rise:</strong> <span class="highlight">150°C</span> (Standard Dry Type)
                </div>
                 <div class="card-text" style="margin-top:0.5rem"><strong>Decision: Specify standard. Include fan package!</strong></div>
            </div>`
        },
         // SCENE 34: Step 7 Efficiency/Protection (10s)
        { duration: 10000, content: `
            <div class="subtitle text-primary">Step 7: Final Polish</div>
            <div class="punchy-headline text-success">Efficiency & Safety Specs</div>
             <div class="two-col-grid">
                <div class="card success">
                    <div class="card-title text-success">Efficiency</div>
                    <div class="card-text">Mandate <span class="highlight">DOE 2016</span> compliance minimum!</div>
                </div>
                <div class="card accent">
                    <div class="card-title text-accent">Protection</div>
                    <div class="card-text">BIL: <span class="highlight">95kV</span> (Std). Size Overcurrent per NEC!</div>
                </div>
            </div>`
        },
         // SCENE 35: Final Spec Summary (12s)
        { duration: 12000, content: `
            <div class="title text-success">The Engineered Spec Sheet!</div>
            <div class="punchy-headline text-primary">From Load Needs to Final Design</div>
            <div class="card success">
                 <div class="card-text formula-font" style="font-size: clamp(0.85rem, 2vw, 1.15rem);">
                    <strong>Type:</strong> Dry, AA/FA, 750/1000 kVA<br>
                    <strong>Volts:</strong> 13.8kD - 480Y/277V, 3Ph, 60Hz<br>
                    <strong>Z:</strong> 5.75% | <strong>Rise/BIL:</strong> 150°C / 95kV<br>
                    <strong>K-Factor: K-20 Recommended!</strong><br>
                    <strong>Efficiency:</strong> DOE 2016 | <strong>Features:</strong> Fans, Taps
                </div>
                 <div class="card-text" style="margin-top:0.5rem">THIS spec ensures safety & reliability!</div>
            </div>`
        },
        // --- EXAMPLE CALCULATION END ---

        // --- INSTALLATION ---
        // SCENE 36: Install Clearances (8s)
        { duration: 8000, content: `
            <div class="title text-primary">INSTALLATION STEP 1: SPACE!</div>
            <div class="punchy-headline text-accent">Give it Room to Breathe (and Work Safely!)</div>
            <div class="card primary">
                 <div class="card-text">Follow NEC & Maker's drawings! Clearances = COOLING!<br><span class="critical">Keep junk AWAY from transformers!</span></div>
            </div>`
        },
        // SCENE 37: Install Connections (9s)
        { duration: 9000, content: `
            <div class="subtitle text-success">INSTALLATION STEP 2: CONNECT!</div>
            <div class="punchy-headline text-primary">Torque It! Phase It! Ground It!</div>
            <div class="card success checklist">
                <div class="checklist-item"><span class="check-icon">🔧</span> TORQUE WRENCH IS MANDATORY!</div>
                <div class="checklist-item"><span class="check-icon">🔄</span> CHECK PHASE ROTATION!</div>
                <div class="checklist-item"><span class="check-icon">🔗</span> SUPPORT YOUR CABLES!</div>
                <div class="checklist-item"><span class="check-icon">🌍</span> SOLID GROUND BOND!</div>
            </div>`
        },

        // --- TESTING ---
        // SCENE 38: Testing Intro (6s)
        { duration: 6000, content: `
            <div class="title text-accent">TESTING: DON'T SKIP THIS!</div>
            <div class="punchy-headline text-danger">Verify Before You Energize... Or Else!</div>
            <div class="content-text">Catch shipping damage & errors BEFORE they cost millions.</div>`
        },
        // SCENE 39: Electrical Tests (10s)
        { duration: 10000, content: `
            <div class="subtitle text-accent">The "Big 3" Electrical Tests</div>
             <div class="three-col-grid">
                <div class="card accent"><div class="card-title">Megger</div>Checks Insulation Health</div>
                <div class="card accent"><div class="card-title">TTR</div>Confirms Voltage Ratio</div>
                <div class="card accent"><div class="card-title">Winding Resistance</div>Finds Bad Connections</div>
            </div>`
        },
        // SCENE 40: Oil Tests (8s)
        { duration: 8000, content: `
            <div class="subtitle text-accent">Oil Units: Get a DGA!</div>
            <div class="punchy-headline text-primary">The Transformer's Critical Health Check</div>
             <div class="card accent">
                <div class="card-title text-accent">DGA (Dissolved Gas Analysis):</div>
                <div class="card-text"><span class="highlight">Finds hidden problems</span> (arcing, overheating) by sniffing the oil! GET A BASELINE TEST!</div>
            </div>`
        },

        // --- MAINTENANCE ---
        // SCENE 41: Maintenance (10s)
        { duration: 10000, content: `
            <div class="title text-success">MAINTENANCE = LONG LIFE!</div>
            <div class="punchy-headline text-primary">Protect Your Multi-Decade Investment!</div>
            <div class="card success checklist" style="font-size: clamp(0.85rem, 2vw, 1.15rem);">
                <div class="checklist-item"><strong>Monthly:</strong> Look, Listen, Feel (Infrared!)</div>
                <div class="checklist-item"><strong>Annually (Oil):</strong> DGA!</div>
                <div class="checklist-item"><strong>Annually (Dry):</strong> CLEAN! Vacuum those vents!</div>
                <div class="checklist-item"><strong>3-5 Years:</strong> Full Electrical Test Suite!</div>
            </div>`
        },

        // --- FAILURES ---
        // SCENE 42: Failure Modes (10s)
        { duration: 10000, content: `
            <div class="title text-danger">Why They Die: Top 3 Killers</div>
             <div class="three-col-grid">
                <div class="card danger"><div class="card-title">Insulation Failure</div>(Cooked! Zapped! Wet!)</div>
                <div class="card danger"><div class="card-title">Bushing Failure</div>(Cracked! Dirty!)</div>
                <div class="card danger"><div class="card-title">Tap Changer Jam</div>(Worn Out! Gunked Up!)</div>
            </div>`
        },

        // --- SUMMARY ---
        // SCENE 43: Expert Checklist Recap (11s)
        { duration: 11000, content: `
            <div class="title text-success">FINAL CHECKLIST: Engineer Like a Pro!</div>
             <div class="card success checklist" style="max-width: 900px; font-size: clamp(0.9rem, 2.1vw, 1.2rem);">
                <div><span class="check-icon">✅</span> Ratings/Type MATCH Load?</div>
                <div><span class="check-icon">✅</span> Impedance RIGHT for Fault/VD?</div>
                <div><span class="check-icon">✅</span> De-Rated for Site?</div>
                <div><span class="check-icon">✅</span> K-Factor MATCHES Harmonics?</div>
                <div><span class="check-icon">✅</span> Efficiency Evaluated (TCO)?</div>
                <div><span class="check-icon">✅</span> Protection Adequate (BIL/OCP)?</div>
            </div>`
        },
        // SCENE 44: Final Thoughts (8s)
        { duration: 8000, content: `
            <div class="title text-success">You Now Know MORE Than Most!</div>
            <div class="punchy-headline text-primary">Use this knowledge. Prevent failures. Save money.</div>
            <div class="content-text" style="font-size: clamp(1.1rem, 3vw, 1.6rem);">
                Be the engineer who gets it RIGHT.
            </div>`
        },
        // SCENE 45: Call to Action (9s)
        { duration: 9000, content: `
            <div class="title text-success">Need Tools & Calculators?</div>
            <div class="subtitle text-accent" style="animation: pulse 1.5s infinite ease-in-out; font-size: clamp(1.3rem, 4vw, 2.2rem); margin: 2vh 0;">
                 Visit: designcalculators.co.in
            </div>
            <div class="content-text" style="color: var(--text-dim);">
                Free Transformer Sizing, Fault Calc & More!
            </div>
            <div class="icon-large" style="margin-top: 1.5rem; animation: pulse 1.8s infinite ease-in-out;">💡</div>` // Changed icon
        },
        // SCENE 46: End Screen (7s)
        { duration: 7000, content: `
            <div class="title text-primary" style="animation: glow 2s infinite;">⚡ Transformer Mastery COMPLETE! ⚡</div>
            <div class="subtitle text-success">Thanks For Watching! Go Engineer!</div>
            <div class="icon-large">💯</div>` // Changed icon
        }
    ]; // Total scenes = 46


    // --- JAVASCRIPT LOGIC ---

     function showScene(index) {
        container.innerHTML = ''; // Clear previous content

        const sceneData = scenes[index];
        if (!sceneData) {
            console.error(`Invalid scene index: ${index}`);
            currentSceneIndex = 0; // Loop back
            // Failsafe: Render first scene's content
            const failsafeContent = document.createElement('div');
            failsafeContent.className = 'scene-content';
            failsafeContent.innerHTML = scenes[0].content;
            container.appendChild(failsafeContent);
            // Manually add footer
            const failsafeFooter = document.createElement('div');
            failsafeFooter.className = 'footer-wrapper';
            failsafeFooter.innerHTML = `<a href="https://designcalculators.co.in" target="_blank">Prepared by https://designcalculators.co.in</a>`;
            container.appendChild(failsafeFooter);
            resetInterval();
            return;
        }

        // Create scene content container
        const sceneContentElement = document.createElement('div');
        sceneContentElement.className = 'scene-content';
        sceneContentElement.innerHTML = sceneData.content;
        container.appendChild(sceneContentElement);

        // Create and append the fixed footer
        const footerElement = document.createElement('div');
        footerElement.className = 'footer-wrapper';
        footerElement.innerHTML = `<a href="https://designcalculators.co.in" target="_blank">Prepared by https://designcalculators.co.in</a>`;
        container.appendChild(footerElement);

        // Reset scroll position
        requestAnimationFrame(() => {
           if(sceneContentElement) sceneContentElement.scrollTop = 0;
        });
    }


    function nextScene() {
        currentSceneIndex = (currentSceneIndex + 1) % scenes.length;
        showScene(currentSceneIndex);
        resetInterval();
    }

    function prevScene() {
        currentSceneIndex = (currentSceneIndex - 1 + scenes.length) % scenes.length;
        showScene(currentSceneIndex);
        resetInterval();
    }

    function resetInterval() {
        clearInterval(sceneInterval);
        let duration = 9000; // Default duration
        if (scenes[currentSceneIndex] && typeof scenes[currentSceneIndex].duration === 'number') {
            duration = scenes[currentSceneIndex].duration;
        }
        sceneInterval = setInterval(nextScene, duration);
    }

    // Initialize
    if (scenes.length > 0) {
        showScene(0);
        resetInterval();
    }

    // Keyboard navigation
    document.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowRight' || e.key === ' ') {
            e.preventDefault();
            nextScene();
        } else if (e.key === 'ArrowLeft') {
            e.preventDefault();
            prevScene();
        }
    });

    // Mouse click/Tap to advance
    container.addEventListener('click', (e) => {
        if (e.target.tagName === 'A' || e.target.closest('a')) {
            return; // Allow links
        }
        // Add a small delay to prevent accidental double taps/clicks
        container.style.pointerEvents = 'none';
        setTimeout(() => {
             nextScene();
             container.style.pointerEvents = 'auto';
        }, 150); // 150ms delay
    });


    // --- Touch Navigation (Swipe) ---
    let touchStartX = 0;
    let touchStartY = 0;
    const swipeThreshold = 50;
    const swipeYThreshold = 70; // Max vertical movement allowed for a horizontal swipe

    container.addEventListener('touchstart', (e) => {
        // Only record start if not touching a link
        if (!(e.target.tagName === 'A' || e.target.closest('a'))) {
             touchStartX = e.changedTouches[0].screenX;
             touchStartY = e.changedTouches[0].screenY;
        } else {
             touchStartX = 0; // Reset if touching a link
             touchStartY = 0;
        }
    }, { passive: true }); // Use passive: true for start if not preventing default

    container.addEventListener('touchend', (e) => {
         // If touch started on a link or was reset, ignore touchend for swiping
         if (touchStartX === 0 && touchStartY === 0) {
             return;
         }
         // Prevent advancing if touchend is on a link (even if start wasn't)
         if (e.target.tagName === 'A' || e.target.closest('a')) {
             // Reset start points just in case
             touchStartX = 0;
             touchStartY = 0;
             return;
         }


        const touchEndX = e.changedTouches[0].screenX;
        const touchEndY = e.changedTouches[0].screenY;
        const diffX = touchEndX - touchStartX;
        const diffY = touchEndY - touchStartY;

        // Reset start points after calculation
        const startX = touchStartX;
        const startY = touchStartY;
        touchStartX = 0;
        touchStartY = 0;

        // Check if it's a valid horizontal swipe (more horizontal than vertical movement)
        if (Math.abs(diffX) > swipeThreshold && Math.abs(diffY) < swipeYThreshold) {
            // It's a swipe, prevent the click event that follows touchend
            e.preventDefault();
            e.stopPropagation();

            // Add a small delay to prevent processing swipe right after advancing via tap
            container.style.pointerEvents = 'none';
            setTimeout(() => {
                if (diffX < 0) {
                    nextScene();
                } else {
                    prevScene();
                }
                 container.style.pointerEvents = 'auto';
            }, 50); // Shorter delay for swipe

        }
        // If it wasn't a clear horizontal swipe, the 'click' listener handles the tap-to-advance
    }, { passive: false }); // Need passive: false to potentially call preventDefault


</script>

</body>
</html>
